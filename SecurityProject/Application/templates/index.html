<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Affine Cipher</title>
</head>

<body>
    <header>
        <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src="https://gkaccess.com/wp-content/uploads/2020/01/Caesar_Cipher_GateKeeper_security_compliance_proximity_authentication_2fa_mfa-scaled.jpg"
                        alt="" width="50" height="50" class="d-inline-block align-text-top">
                    <h3>
                        Computer Security
                    </h3>
                </a>
            </div>
        </nav>
    </header>
    <main>
        <div class="container">
            {% comment %} If there's no encryption nor decryption this will be None(NULL) {% endcomment %}
            {% if result != None %}
            <div class="card">

                <div class="card-body">
                    <h3 class="text-success">
                        {{result}}
                    </h3>
                </div>
            </div>
            {% endif %}
            <div class="card">
                <div class="card-body">
                    <form action="{% url 'encrypt' %}" method="POST">
                        {% csrf_token %}
                        <legend>Affine Cipher</legend>
                        <p>y = (ax + b) MOD m</p>
                        <hr>
                        <ul class="list-unstyled">
                            <li>y: encrypted character</li>
                            <li>a, b: defined by input</li>
                            <li>x: plain text character</li>
                            <li>m: number of characters within the array of characters</li>
                        </ul>
                        <label for="plainText">Plain Text <sub>(Enter Only Capital letters and Spaces)</sub></label>
                        <input type="text" class="form-control" id="plainText" name="plainText" required>
                        <label for="a">A key</label>

                        <select name="a" id="a" class="form-control" required>
                            {% for i in ar %}
                            <option value="{{ i }}">{{ i }}</option>
                            {% endfor %}
                        </select>
                        <label for="b">B key</label>
                        <input type="number" class="form-control" id="b" name="b">
                        <button type="submit" class="btn btn-dark form-control mt-3" required>
                            Encrypt
                        </button>

                    </form>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-body">
                    <form action="{% url 'decrypt' %}" method="POST">
                        {% csrf_token %}
                        <legend>Decrypt</legend>
                        <p>x = [inv(a) * (y - b)] MOD M</p>
                        <hr>
                        <ul class="list-unstyled">
                            <li>y: encrypted character</li>
                            <li>a, b: defined by input</li>
                            <li>x: plain text character</li>
                            <li>m: number of characters within the array of characters</li>
                        </ul>
                        <label for="encText">Encrypted Text <sub>(Enter Only Capital letters and Spaces)</sub></label>
                        <input type="text" class="form-control" id="encText" name="encText" required>
                        <label for="a">A key</label>

                        <select name="a" id="a" class="form-control" required>
                            {% for i in ar %}
                            <option value="{{ i }}">{{ i }}</option>
                            {% endfor %}
                        </select>
                        <label for="b">B key</label>
                        <input type="number" class="form-control" id="b" name="b">
                        <button type="submit" class="btn btn-dark form-control mt-3" required>
                            Decrypt
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>
</body>

</html>